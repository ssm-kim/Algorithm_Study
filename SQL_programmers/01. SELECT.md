## SELECT 풀이

## 공통 링크 : https://school.programmers.co.kr/learn/courses/30/parts/17042

평균 일일 대여 요금 구하기

```SQL
SELECT ROUND(AVG(DAILY_FEE), 0) AS AVERAGE_FEE
FROM CAR_RENTAL_COMPANY_CAR
WHERE CAR_TYPE = 'SUV'
```

조건에 맞는 도서 리스트 출력하기

- TO_CHAR()함수 : 날짜, 숫자 등의 값을 문자열로 변환하는 함수
- SYSDATE : 로컬 PC 날짜/시간
- TO_CHAR(SYSDATE, 'YYYYMMDD'), TO_CHAR(SYSDATE, 'YYYY-MM-DD'), TO_CHAR(SYSDATE, 'YYYY-MM-DD HH24:MI:SS')

```SQL
SELECT BOOK_ID, TO_CHAR(PUBLISHED_DATE, 'YYYY-MM-DD')
FROM BOOK
WHERE TO_CHAR(PUBLISHED_DATE, 'YYYY') = '2021'
    AND CATEGORY = '인문'
ORDER BY PUBLISHED_DATE ASC
```

12세 이하인 여자 환자 목록 출력하기

- NVL()함수 : 값이 NULL인 경우 지정값을 출력하고, NULL이 아니면 원래 값을 그대로 출력한다.
- NVL("값", "지정값")

- NVL2()함수 : NULL이 아닌 경우 지정값1을 출력하고, NULL인 경우 지정값2를 출력한다.
- NVL("값", "지정값1", "지정값2"), NVL("값", "NOT NULL", "NULL")

```SQL
SELECT PT_NAME, PT_NO, GEND_CD, AGE, NVL(TLNO, 'NONE') AS TLNO
FROM PATIENT
WHERE AGE <= 12
    AND GEND_CD = 'W'
ORDER BY AGE DESC, PT_NAME ASC
```

3월에 태어난 여성회원 목록 출력하기

```SQL
SELECT MEMBER_ID, MEMBER_NAME, GENDER, TO_CHAR(DATE_OF_BIRTH, 'YYYY-MM-DD') AS DATE_OF_BIRTH
FROM MEMBER_PROFILE
WHERE TO_CHAR(DATE_OF_BIRTH, 'MM') = '03'
    AND GENDER = 'W'
    AND TLNO != 'NULL'
ORDER BY MEMBER_ID ASC
```

인기있는 아이스크림

```SQL
SELECT FLAVOR
FROM FIRST_HALF
ORDER BY TOTAL_ORDER DESC, SHIPMENT_ID ASC
```

흉부외과 또는 일반외과 의사 목록 출력하기

```SQL
SELECT DR_NAME, DR_ID, MCDP_CD, TO_CHAR(HIRE_YMD, 'YYYY-MM-DD')
FROM DOCTOR
WHERE MCDP_CD IN ('CS', 'GS')
ORDER BY HIRE_YMD DESC, DR_NAME ASC
```

조건에 부합하는 중고거래 댓글 조회하기

- RIGHT JOIN 활용

```SQL
SELECT A.TITLE, A.BOARD_ID, B.REPLY_ID, B.WRITER_ID, B.CONTENTS, TO_CHAR(B.CREATED_DATE, 'YYYY-MM-DD')
FROM USED_GOODS_BOARD A RIGHT JOIN USED_GOODS_REPLY B ON A.BOARD_ID = B.BOARD_ID
WHERE TO_CHAR(A.CREATED_DATE, 'YYYY-MM') = '2022-10'
ORDER BY B.CREATED_DATE ASC, A.TITLE ASC
```

과일로 만든 아이스크림 고르기

```SQL
SELECT A.FLAVOR
FROM FIRST_HALF A LEFT JOIN ICECREAM_INFO B ON A.FLAVOR = B.FLAVOR
WHERE A.TOTAL_ORDER > 3000
    AND B.INGREDIENT_TYPE LIKE 'fruit_%'
ORDER BY A.TOTAL_ORDER DESC
```

서울에 위치한 식당 목록 출력하기

```SQL
SELECT A.REST_ID, A.REST_NAME, A.FOOD_TYPE, A.FAVORITES, A.ADDRESS, ROUND(AVG(B.REVIEW_SCORE), 2) AS SCORE
FROM REST_INFO A RIGHT JOIN REST_REVIEW B ON A.REST_ID = B.REST_ID
WHERE A.ADDRESS LIKE '서울%'
GROUP BY A.REST_ID, A.REST_NAME, A.FOOD_TYPE, A.FAVORITES, A.ADDRESS
ORDER BY SCORE DESC, A.FAVORITES DESC
```

강원도에 위치한 생산공장 목록 출력하기

```SQL
SELECT FACTORY_ID, FACTORY_NAME, ADDRESS
FROM FOOD_FACTORY
WHERE ADDRESS LIKE '강원도%'
ORDER BY FACTORY_ID ASC
```
